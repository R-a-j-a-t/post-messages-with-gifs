(this["webpackJsonppost-msg-w-gifs"]=this["webpackJsonppost-msg-w-gifs"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(7),a=n(2),i=n(5),s=n(8),o=n(0),u=0,l=function(t,e,n,c,r){var a=t.target;if("gif-result"===a.className){r([]);var o=document.getElementById(a.id).cloneNode(!0);o.id="tmp-"+o.id,o.className=o.className.replace("gif-result","post-gif-result");var u=document.createElement("button");u.className="remove-gif",u.style.position="absolute",u.onclick=function(t){return function(t,e,n){var c=t.target.parentElement,r=c.id.split("-")[2];e((function(t){return t.filter((function(t){return t!==r}))}));var a,i="",o=Object(s.a)(c.children);try{for(o.s();!(a=o.n()).done;){var u=a.value;if(u.id===r){i=u.alt;break}}}catch(l){o.e(l)}finally{o.f()}n((function(t){return t.filter((function(t){return t!==i}))})),c.remove()}(t,n,c)},u.textContent="X";var l=document.createElement("div");l.id="wrapper-gif-".concat(a.id),l.className="current-gif",l.append(o,u),document.querySelector("#added-gif").append(l),n((function(t){return[].concat(Object(i.a)(t),[a.id])})),c((function(t){return[].concat(Object(i.a)(t),[a.alt])})),e()}};function d(t){var e=t.searchGif,n=t.hideSearchMenu,r=t.addGifSrc,i=t.addAltTexts,s=Object(c.useState)([]),d=Object(a.a)(s,2),f=d[0],j=d[1],p=Object(c.useState)(!1),b=Object(a.a)(p,2),h=b[0],m=b[1];return Object(o.jsxs)("div",{id:"gif-search-menu",className:e?"menuVisible":"menuHidden",children:[Object(o.jsx)("input",{type:"text",onBlur:function(t){return t.target.value=""},className:"gif-search-box",onKeyDown:function(t){return function(t,e,n){if(13===t.keyCode){n(!0);var c=t.target.value,r="".concat("https://api.giphy.com/v1/gifs","/search?api_key=").concat("gv7dnG5G6lojUxSZl54yGdJmOA07vytz","&q=").concat(c,"&limit=").concat("5","&offset=").concat(u,"&rating=g");fetch(r).then((function(t){if(200===t.status)return t.json();throw new Error("Response status: ".concat(t.status))})).then((function(t){var c,r=t.data.map((function(t,e){return c="https://i.giphy.com/media/"+t.id+"/giphy.webp",Object(o.jsx)("img",{id:t.id,className:"gif-result",src:c,alt:t.title},e)}));u+=5,n(!1),e(r)})).catch((function(t){return console.log(t)}))}}(t,j,m)},placeholder:"Press enter to search"}),Object(o.jsxs)("div",{className:"gifs-list",onClick:function(t){return l(t,n,r,i,j)},children:[Object(o.jsx)("p",{id:"loading-sign",className:h?"showLoading":"hideLoading",children:"Loading..."}),f]})]})}function f(t){var e=t.postList,n=t.onPost,r=Object(c.useState)([]),s=Object(a.a)(r,2),u=s[0],l=s[1],f=Object(c.useState)([]),j=Object(a.a)(f,2),p=j[0],b=j[1],h=Object(c.useState)(!1),m=Object(a.a)(h,2),g=m[0],v=m[1],O=Object(c.useRef)("");return Object(o.jsxs)("div",{id:"create-post",children:[Object(o.jsx)("textarea",{className:"textarea-post",ref:O,placeholder:"Type something here..."}),Object(o.jsx)("div",{id:"added-gif"}),Object(o.jsx)("button",{className:"add-gif-btn",onClick:function(t){return function(t,e,n){n(!e)}(0,g,v)},children:"+\xa0GIF"}),Object(o.jsx)(d,{searchGif:g,hideSearchMenu:function(){return v(!1)},addGifSrc:l,addAltTexts:b}),Object(o.jsx)("hr",{}),Object(o.jsx)("button",{type:"submit",onClick:function(t){return function(t,e,n,c,r,a,s,o){if(""!==o.current.value||0!==e.length){var u={text:o.current.value,gifSrc:e,altTexts:c};s([].concat(Object(i.a)(a),[u])),o.current.value="",n([]),r([])}}(0,u,l,p,b,e,n,O)},className:"submit-post",children:"Post"})]})}var j=[],p=function(t){var e=t.length;if(0===e)return Object(o.jsx)("div",{className:"no-post",children:"Nothing here yet! Add a post..."});var n=t[e-1],c=document.querySelectorAll(".current-gif");if(c.length>0)for(var r=c.length,a=0;a<r;a++)c[a].remove();var i=Object(o.jsxs)("div",{className:"post",children:[Object(o.jsx)("div",{className:"post-text",children:Object(o.jsx)("pre",{children:n.text})}),n.gifSrc.map((function(t,e){var c="https://i.giphy.com/media/"+t+"/giphy.webp";return Object(o.jsx)("img",{id:t,className:"post-gif",src:c,alt:n.altTexts[e]},e)}))]},e-1);return j.unshift(i),j};function b(t){var e=t.postList;return Object(o.jsx)("div",{id:"display-posts",children:p(e)})}function h(){var t=Object(c.useState)([]),e=Object(a.a)(t,2),n=e[0],r=e[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(f,{postList:n,onPost:r}),Object(o.jsx)(b,{postList:n})]})}n(14);var m=document.querySelector("#root");Object(r.render)(Object(o.jsx)(h,{}),m)}},[[15,1,2]]]);
//# sourceMappingURL=main.2d95a274.chunk.js.map